-- Tạo ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "CopyGUI"
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

-- 1. Tạo Khung Chính (Main Frame)
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 400, 0, 250) -- Kích thước khung
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -125) -- Căn giữa màn hình
MainFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35) -- Màu nền tối
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true -- Cho phép kéo khung di chuyển
MainFrame.Parent = ScreenGui

-- Bo tròn góc cho khung chính
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 10)
UICorner.Parent = MainFrame

-- 2. Tạo Tiêu Đề/Thông Báo (Title)
local TitleLabel = Instance.new("TextLabel")
TitleLabel.Name = "Title"
TitleLabel.Size = UDim2.new(1, 0, 0, 50)
TitleLabel.BackgroundTransparency = 1
TitleLabel.Text = "Script New" -- Nội dung thông báo
TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleLabel.Font = Enum.Font.GothamBold
TitleLabel.TextSize = 20
TitleLabel.Parent = MainFrame

-- 3. Tạo Khung Nhỏ Chứa Text (Text Box)
local ContentHolder = Instance.new("Frame")
ContentHolder.Name = "ContentHolder"
ContentHolder.Size = UDim2.new(0.9, 0, 0, 100)
ContentHolder.Position = UDim2.new(0.05, 0, 0, 60)
ContentHolder.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
ContentHolder.Parent = MainFrame

local ContentCorner = Instance.new("UICorner")
ContentCorner.CornerRadius = UDim.new(0, 6)
ContentCorner.Parent = ContentHolder

local TextToCopy = Instance.new("TextBox")
TextToCopy.Name = "TextToCopy"
TextToCopy.Size = UDim2.new(0.9, 0, 0.9, 0)
TextToCopy.Position = UDim2.new(0.05, 0, 0.05, 0)
TextToCopy.BackgroundTransparency = 1

-- [[ ĐÃ SỬA LỖI Ở DÒNG DƯỚI ĐÂY ]]
-- Dùng dấu nháy đơn ' ' bao bên ngoài để không bị lỗi với dấu " " bên trong
TextToCopy.Text = 'loadstring(game:HttpGet("https://raw.githubusercontent.com/huyscript/Bearhub/refs/heads/main/Bearhubpremium"))()'

TextToCopy.TextColor3 = Color3.fromRGB(200, 200, 200)
TextToCopy.Font = Enum.Font.Code
TextToCopy.TextSize = 14
TextToCopy.TextWrapped = true
TextToCopy.ClearTextOnFocus = false 
TextToCopy.TextEditable = false 
TextToCopy.Parent = ContentHolder

-- 4. Tạo Nút Copy
local CopyButton = Instance.new("TextButton")
CopyButton.Name = "CopyButton"
CopyButton.Size = UDim2.new(0.4, 0, 0, 40)
CopyButton.Position = UDim2.new(0.05, 0, 1, -55)
CopyButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255) 
CopyButton.Text = "Sao Chép"
CopyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CopyButton.Font = Enum.Font.GothamBold
CopyButton.TextSize = 16
CopyButton.Parent = MainFrame

local CopyCorner = Instance.new("UICorner")
CopyCorner.CornerRadius = UDim.new(0, 6)
CopyCorner.Parent = CopyButton

-- 5. Tạo Nút Đóng
local CloseButton = Instance.new("TextButton")
CloseButton.Name = "CloseButton"
CloseButton.Size = UDim2.new(0.4, 0, 0, 40)
CloseButton.Position = UDim2.new(0.55, 0, 1, -55)
CloseButton.BackgroundColor3 = Color3.fromRGB(255, 80, 80) 
CloseButton.Text = "Đóng"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.Font = Enum.Font.GothamBold
CloseButton.TextSize = 16
CloseButton.Parent = MainFrame

local CloseCorner = Instance.new("UICorner")
CloseCorner.CornerRadius = UDim.new(0, 6)
CloseCorner.Parent = CloseButton

---------------------------------------------------------
-- CHỨC NĂNG (LOGIC)
---------------------------------------------------------

-- Chức năng cho nút Đóng
CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy() 
end)

-- Chức năng cho nút Copy
CopyButton.MouseButton1Click:Connect(function()
    local success, err = pcall(function()
        if setclipboard then
            setclipboard(TextToCopy.Text)
        elseif toclipboard then
            toclipboard(TextToCopy.Text)
        else
            TextToCopy:CaptureFocus()
            TextToCopy.TextEditable = true
            task.wait(0.1)
            TextToCopy.TextEditable = false
        end
    end)

    -- Hiệu ứng thông báo đã copy
    local oldText = CopyButton.Text
    CopyButton.Text = "Đã Copy!"
    CopyButton.BackgroundColor3 = Color3.fromRGB(0, 255, 100)
    
    task.wait(1) -- Dùng task.wait() chuẩn hơn wait()
    
    CopyButton.Text = oldText
    CopyButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
end)
